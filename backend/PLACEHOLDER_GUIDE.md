# 📋 주택임대차 계약서 플레이스홀더 기입 가이드

Word 문서 `주택임대차 표준계약서.docx`에 플레이스홀더를 기입하는 상세 가이드입니다.

---

## 🎯 작업 개요

1. Word에서 `주택임대차 표준계약서.docx` 열기
2. 아래 표를 보면서 해당 위치에 플레이스홀더 입력
3. `주택임대차 표준계약서_with_placeholders.docx`로 저장

---

## 📍 플레이스홀더 위치 상세 가이드

### **테이블 0 - 메인 계약 정보 (문서 상단 큰 테이블)**

#### 1️⃣ 물건 정보

| 문서에 표시된 항목 | 현재 칸에 적힌 내용 | 입력할 플레이스홀더 | 예시 결과 |
|-------------------|-------------------|------------------|----------|
| **소 재 지** | `(도로명주소)` | `{{address_road}}` | 서울특별시 강남구 테헤란로 123 |
| **임차할부분** | `상세주소가 있는 경우 동‧층‧호 정확히 기재` | `{{address_detail}}` | 456호 (101동 10층) |
| **임차할부분 - 면적** | 빈 칸 + `㎡` | `{{rental_area}}` | 85 |

**💡 찾는 법**:
- "소 재 지" 행을 찾으세요 → 오른쪽 큰 칸에 `(도로명주소)`라고 적혀있음 → 여기에 플레이스홀더 입력
- "임차할부분" 행을 찾으세요 → 상세주소 칸과 면적 칸이 있음

---

#### 2️⃣ 금액 정보

| 문서에 표시된 항목 | 현재 칸에 적힌 내용 | 입력할 플레이스홀더 | 예시 결과 |
|-------------------|-------------------|------------------|----------|
| **보 증 금** | `금 _____ 원정(₩_____)` | `금 {{deposit_hangeul}} 원정(₩{{deposit}})` | 금 오억 원정(₩500,000,000) |
| **계 약 금** | `금 _____ 원정(₩_____) 계약시...` | `금 {{contract_payment}} 원정(₩{{contract_payment}})은 계약시에 지불하고 영수함. 영수자 (    인)` | 금 50,000,000 원정 |
| **차임(월세)** | `금 _____ 원정은 매월 ___일에` | `금 {{monthly_rent}} 원정은  매월 {{monthly_rent_day}}일에 지불한다(입금계좌: )` | 금 2,000,000 원정은 매월 1일에 |
| **관 리 비** | `(정액인 경우) 금 _____ 원정` | `(정액인 경우) 금 {{management_fee}} 원정(₩{{management_fee}})` | 금 150,000 원정 |

**💡 찾는 법**:
- "[계약내용]" 섹션 아래를 보세요
- "보 증 금" / "계 약 금" / "차임(월세)" / "관 리 비" 행을 차례로 찾으세요
- 각 행의 오른쪽 큰 칸에 플레이스홀더 입력

---

### **테이블 4 - 당사자 정보 (문서 하단 큰 테이블)**

이 테이블은 문서 맨 아래쪽에 있는 "임대인/임차인" 정보 테이블입니다.

#### 3️⃣ 임대인 정보

| 문서에 표시된 항목 | 위치 설명 | 입력할 플레이스홀더 | 예시 결과 |
|-------------------|----------|------------------|----------|
| **임대인 - 주소** | "임대인" 첫 번째 행, "주 소" 레이블 옆 큰 칸 | `{{lessor_address}}` | 서울특별시 서초구 반포대로 100 |
| **임대인 - 성명** | "임대인" 두 번째 행, 오른쪽 "성 명" 칸 | `{{lessor_name}}` | 홍길동 |
| **임대인 - 전화** | "임대인" 두 번째 행, 중간 "전 화" 칸 | `{{lessor_phone}}` | 010-1234-5678 |

**💡 찾는 법**:
- 문서 맨 아래로 스크롤하세요
- 세로로 "임\n대\n인" 이라고 적힌 셀을 찾으세요 (3줄로 나뉘어 있음)
- 그 오른쪽에 주소/주민등록번호/전화/성명 칸이 있습니다

---

#### 4️⃣ 임차인 정보

| 문서에 표시된 항목 | 위치 설명 | 입력할 플레이스홀더 | 예시 결과 |
|-------------------|----------|------------------|----------|
| **임차인 - 주소** | "임차인" 첫 번째 행, "주 소" 레이블 옆 큰 칸 | `{{lessee_address}}` | 서울특별시 강남구 테헤란로 123, 456호 |
| **임차인 - 성명** | "임차인" 두 번째 행, 오른쪽 "성 명" 칸 | `{{lessee_name}}` | 김철수 |
| **임차인 - 전화** | "임차인" 두 번째 행, 중간 "전 화" 칸 | `{{lessee_phone}}` | 010-9876-5432 |

**💡 찾는 법**:
- 임대인 정보 바로 아래에 있습니다
- 세로로 "임\n차\n인" 이라고 적힌 셀을 찾으세요
- 구조는 임대인과 동일합니다

---

## ✅ 전체 플레이스홀더 목록 (체크리스트)

작업하면서 하나씩 체크하세요:

- [ ] `{{address_road}}` - 도로명주소
- [ ] `{{address_detail}}` - 상세주소 (동/층/호)
- [ ] `{{rental_area}}` - 임차 면적
- [ ] `{{deposit}}` - 보증금 (숫자)
- [ ] `{{deposit_hangeul}}` - 보증금 (한글)
- [ ] `{{contract_payment}}` - 계약금
- [ ] `{{monthly_rent}}` - 월세
- [ ] `{{monthly_rent_day}}` - 월세 납부일
- [ ] `{{management_fee}}` - 관리비
- [ ] `{{lessor_name}}` - 임대인 성명
- [ ] `{{lessor_address}}` - 임대인 주소
- [ ] `{{lessor_phone}}` - 임대인 전화
- [ ] `{{lessee_name}}` - 임차인 성명
- [ ] `{{lessee_address}}` - 임차인 주소
- [ ] `{{lessee_phone}}` - 임차인 전화

---

## 🎨 플레이스홀더 형식 규칙

### ✅ 올바른 형식
```
{{field_name}}
```
- 중괄호 2개로 시작하고 2개로 끝남
- 영문 소문자와 언더스코어(_)만 사용
- 공백 없음

### ❌ 잘못된 형식
```
{ {field_name} }    ← 공백 있음 (X)
{field_name}        ← 중괄호 1개 (X)
{{Field_Name}}      ← 대문자 (X)
{{field-name}}      ← 하이픈 사용 (X)
```

---

## 🧪 작업 완료 후 테스트

플레이스홀더를 모두 입력한 후:

```bash
cd backend
python test_lease_contract_generation.py
```

**예상 결과**:
```
✅ 주소: 서울특별시 강남구 테헤란로 123 발견됨
✅ 보증금: 500,000,000 발견됨
✅ 임대인 이름: 홍길동 발견됨
✅ 임차인 이름: 김철수 발견됨

🎉 모든 필드가 정상적으로 채워졌습니다!
```

---

## 💾 저장 방법

작업 완료 후:

1. **다른 이름으로 저장**: `파일 > 다른 이름으로 저장`
2. **파일명**: `주택임대차 표준계약서_with_placeholders.docx`
3. **위치**: 원본과 같은 폴더 (`backend/data/storage/documents/`)

---

## 🔍 문제 해결

### Q: 플레이스홀더를 입력했는데 테스트에서 발견되지 않아요
**A**: 플레이스홀더 형식을 확인하세요:
- 중괄호가 정확히 2개씩인가요? (`{{` 와 `}}`)
- 영문 철자가 정확한가요?
- 공백이 들어가지 않았나요?

### Q: 어떤 칸에 입력해야 할지 모르겠어요
**A**:
1. Word 문서를 열고 Ctrl+F로 검색하세요
2. 예: "도로명주소" 검색 → 해당 칸에 `{{address_road}}` 입력
3. 위 표의 "현재 칸에 적힌 내용"을 검색어로 사용하세요

### Q: 테이블이 복잡해서 어디가 어딘지 모르겠어요
**A**:
```bash
python analyze_template.py
```
를 실행하면 테이블 구조가 출력됩니다. 행/열 번호와 실제 텍스트를 매칭해서 확인하세요.

---

## 📚 참고 자료

- **필드 상세 설명**: [lease_contract_input_schema.json](data/storage/documents/lease_contract_input_schema.json)
- **테스트 스크립트**: [test_lease_contract_generation.py](test_lease_contract_generation.py)
- **템플릿 구조 분석**: [analyze_template.py](analyze_template.py)
- **전체 사용 가이드**: [README_lease_contract.md](README_lease_contract.md)

---

## 📞 도움이 필요하면

템플릿 구조를 텍스트로 출력:
```bash
python analyze_template.py > template_structure.txt
```

출력된 `template_structure.txt` 파일을 열어서 각 셀의 위치와 내용을 확인할 수 있습니다.
